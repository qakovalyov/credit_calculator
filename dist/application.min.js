"use strict";
/* Created by Rudolf Kovalyov | 2014-10-14 */
(function(){var a,b,c,d,e,f;jQuery(function(){return a()}),a=function(){var a;return a=$("#calculator").find("form"),a.on("submit",b)},b=function(a){var b;return b=$(a.target),a.preventDefault(),f(b),d()?$.ajax({type:"POST",dataType:"json",data:$(a.target).serializeArray(),url:"/calc",error:function(a){var c;return c=JSON.parse(a.responseText),e(c,b)},success:function(a){return c(a,b)}}):void 0},f=function(a){return $.each(a.find("input"),function(){return""===$(this).val()?$(this).closest(".form-group").removeClass("has-success").toggleClass("has-error",!0).find(".help-block").html("This field cannot be blank."):$(this).closest(".form-group").removeClass("has-error").toggleClass("has-success",!0).find(".help-block").html("")})},e=function(a,b){return $.each(a.errors,function(a,c){return b.find("#"+a).closest(".form-group").addClass("has-error").find(".help-block").html(c)})},d=function(){return!$("form").find(".form-group").hasClass("has-error")},c=function(a,b){var c;return console.log(a),c="",$.each(a,function(a,b){var d;return d=a+1,c+="<tr> <td>"+d+"</td> <td>"+b[0]+"</td> <td>"+b[1]+"</td> <td>"+b[2]+"</td> <td>"+b[3]+"</td> </tr>"}),$(".credit-table").toggleClass("hidden").find("table tbody").html(c),b.toggleClass("hidden")}}).call(this);